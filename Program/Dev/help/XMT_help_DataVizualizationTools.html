<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
<style>
body {background-color: transparent;}
th, td {vertical-align: top;}
a    {color: blue;}
p.ex {color: red;}
h2,h3,h4,h5 {margin-top: 2em; }
</style>
<TITLE>Help XMapTools</TITLE>
</HEAD>

<BODY>
<h1> Help > Data Visualization Tools </h1>    	
<p><i>Help file version 09.05.2025 by M. Tedeschi & P. Lanari</i></p>
<br \>
<hr>
<p><b>Table of content</b><br \><br \>
<a href="#Modes">Visualisation modes: histogram, binary, RGB and ternary</a><br \>
<a href="#Variables">Variable definition</a><br \>
<a href="#Sampling">Data sampling (Explore section)</a><br \>
<a href="#Options">Options</a><br \>
</p>
<hr>
<br \> 

<p>This help file contains a description of the <i>Data Visualisation</i> module, which can be used to display map data in histograms, binary plots, ternary plots and as an RGB composite image. 

<p>The Data Visualisation module has access to the data selected in the primary menu of XMapTools when it is opened. To change the type of data, close the module and re-open it after selecting different data.</p> 

<h2><a name="Modes"></a>Visualisation modes: histogram, binary, RGB and ternary</h2> 

<p>The type of plot to be generated can be selected in the <i>Plot</i> section. The following modes are available: </p>

<ul>
<li><img src="./img/icon_stats.png" height="23"> <b>Histogram</b>, requires a single variable X; a histogram is generated and plotted in the main figure (Fig. 1)</li>
<li><img src="./img/icon_chess.png" height="23"> <b>Binary plot</b>, requires two variables X and Y; a binary plot is generated and plotted in the main figure, as well as a density image. Two histograms, one for each dimension (not shown if low resource mode is active), are plotted as additional figures (Fig. 2).</li>
<li><img src="./img/icon_images.png" height="23"> <b>RGB</b>, requires three variables X, Y and Z; an RGB composite image is generated and plotted in the main figure, a legend is plotted in an additional figure (Fig. 3)</li>
<li><img src="./img/icon_3d_modelling.png" height="23"> <b>Ternary plot</b>, requires three variables X, Y and Z:; a ternary plot is generated and plotted in the main plot, three histograms, one for each dimension, and a density plot (not shown if low resource mode is active) are plotted as additional plots (Fig. 4).</li>
</ul>

<p>By default, XMapTools generates a binary diagram when the module is opened if at least two variables (maps) are available.</p>

<br />
<center>
<img src="./img/VisualizationTool_1.png" width="700">
<p><i><b>Figure 1</b>: Data Visualisation Module, mode histogram.</i> </p> 
<br \>
</center>

<br />
<center>
<img src="./img/VisualizationTool_2.png" width="700">
<p><i><b>Figure 2</b>: Data Visualisation Module, mode binary.</i> </p> 
<br \>
</center>

<br />
<center>
<img src="./img/VisualizationTool_3.png" width="700">
<p><i><b>Figure 3</b>: Data Visualisation Module, mode RGB.</i> </p> 
<br \>
</center>

<br />
<center>
<img src="./img/VisualizationTool_4.png" width="700">
<p><i><b>Figure 4</b>: Data Visualisation Module, mode Ternary.</i> </p> 
</center>


<h2><a name="Variables"></a>Variable definition</h2>

<p>On the left hand side of the <i>Plot</i> section you can select the maps to be displayed. These can be elements, groups of elements or any other variable (e.g. structural formula) </p>.

<br />
<center>
<img src="./img/SS_VT_Variabledefinitions_1.png" height="60">
<p><i><b>Figure 5</b>: Variable definition.</i> </p> 
</center>

<br />
<p>Whatever the plot type, variables are selected in <i>Variable Definitions</i>, either using the drop-down menus listing all the available maps, or using any combination of them. </p>

<p>Standard MATLAB code format is used to combine existing maps and create new variables to plot. Use an arithmetic operation defined by the rules of linear algebra or array arithmetic. The operation can include spaces between variables, digits, and operators. Array operators (with the dot character ".") must be used when maps are divided or multiplied by each other. Note that element-wise multiplication or division should use ".*" or "./" to multiply or divide the two arrays element by element.</p>

<br />
<center>
<img src="./img/SS_VT_Variabledefinitions_2.png" height="60">
<p><i><b>Figure 6</b>: Variable definition using code.</i> </p> 
</center>


<h2><a name="Sampling"></a>Data sampling (Explore section)</h2>

<p>A basic pixel identification tool is only available for binary and ternary maps. Use it to create polygons that identify the location of points on the map. </p>

<p>When a polygon is drawn, the pixel locations of all points within the region of interest are displayed on the map at the bottom right. The shape can be edited and the plot updated accordingly. An identical polygon is plotted on the density map when low resource mode is off. </p>

<p>The <i>Polygon</i> <img src="./img/icon_pin_rounded_plus.png" width="30"> button activates a cross cursor and you can select vertices of a polygon around any region of interest in the main plot. Right-click to close the polygon. </p>

<p> It is possible to create a polygon by clicking on the button to activate the cursor. The distribution on the map (on the right) is automatically updated. </p>

<p> The selection can be saved as a maske file. </p>

<br />
<center>
<img src="./img/VisualizationTool_6.png" width="700">
<p><i><b>Figure 8</b>: Data Visualisation Module, Identify pixels using a polygonal selection in a binary plot.</i> </p> 
</center>



<h2> <a name="Options"></a>Options</h2>

<h4>Masks</h4>
<p>Box and drop down menu <i>Masks</i> <img src="./img/SS_VT_Masks.png" height="30"></p>

<p>Selecting the <i>Masks</i> check box will colour the data displayed in the binary or ternary plots according to the mask file displayed in the drop down menu. </p>

<br />
<center>
<p><img src="./img/VisualizationTool_5.png" width="700"></p> 
<p><i><b>Figure 9</b>: Intensity data colored according to minerals retrieved from the selected mask file. </i> </p> 
</center>

<h4>Low ressource mode</h4>

<p>This mode is optimal for computers with limited memory and is enabled by default when the Data Visualisation module is opened. When this mode is activated, only 40% of the data is plotted (random selection).</p>



<h4>Plot "Bulk Value" (Average)</h4>

<p> The "Bulk Value" (Average) is calculated from the data plotted in the figure, e.g. 20% when Low Resource Mode is enabled. There is <u>no</u> density correction applied, so deviations from the true bulk composition are expected if phases have different densities.</p>


<h4>Statistics and plotting report</h4>

<p>Statistics are reported in the Statistics section and are updated each time the plot is changed.</p>

<p>The statistics section can contain the following information:</p>
<ul>
  <li>Bulk Value (average of plotted pixels) in binary & ternary plots if the "Plot "Bulk Value" (Average)" option is enabled.</li>
  <li>Bulk Value (std of plotted pixels) in binary & ternary plots if the "Plot "Bulk Value" (Average)" option is enabled.</li>
  <li>Bulk Value (relative fraction of <i>X</i>, <i>Y</i> and <i>Z</i>) in ternary plots if the "Plot "Bulk Value" (Average)" option is enabled.</li>
  <li>Correlation coefficient between <i>X</i> and <i>Y</i> in binary plots.</li>
</ul>

<p>The plotting report section can contain the following information:</p>

<ul>
  <li>Plot type and Low Resource Mode status.</li>
  <li>Size of dataset: number of pixels and fraction displayed. </li>
  <li>Various plotting times that can be reported to the developers in case of problems with the module (see example below).</li>
</ul>

<code>Plotting binary data [low ressource mode: ON]</code> <br /><br />

<code>Size of dataset: 687718 data points (20% plotted)</code><br />
<code>Extracting & Plotting data: 0.10176s</code><br />
<code>Adjusting plot; force plotting: 0.089678s</code><br />
<code>Calculating and plotting the density map : 0.34156s</code><br />
<code>Final update of plots & interface : 0.00819s</code><br />
<code>Drawnow : 0.073919s</code><br />




<br \> <br \> <br \>
<br \> <br \> <br \>
<br \> <br \> <br \>
</BODY>
</HTML>














